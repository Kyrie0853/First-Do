#include <stdio.h>
#include <stdbool.h>

void sieveOfEratosthenes(int n) {
    // 创建整型数组，大小为待求范围的上界。
    int prime[n+1];
    
    // 初始化数组，假设所有的数都是素数。
    for (int i = 2; i <= n; i++) {
        prime[i] = 1;
    }

    for (int p = 2; p * p <= n; p++) {
        // 如果 prime[p] 为1（素数），则 p 为素数
        if (prime[p] == 1) {
            // 将 p 的倍数标记为非素数
            for (int i = p * 2; i <= n; i += p) {
                prime[i] = 0;
            }
        }
    }

    // 输出素数
    printf("小于等于%d的素数有: ", n);
    for (int p = 2; p <= n; p++) {
        if (prime[p] == 1) {
            printf("%d ", p);
        }
    }
}

int main() {
    int n = 100; // 求100以内的素数
    sieveOfEratosthenes(n);
    return 0;
}
